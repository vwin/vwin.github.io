<!DOCTYPE html><html lang="zh"><head><meta charset="utf-8"><meta name="baidu-site-verification" content="code-w6zMFQOLpu"><meta name="referrer" content="strict-origin-when-cross-origin"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no,minimal-ui"><meta name="renderer" content="webkit"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="format-detection" content="telephone=no,email=yes,adress=no"><meta name="theme-color" content="#000000"><meta http-equiv="window-target" content="_top"><title>云IaaS测试系列一分布式存储测试实践2-可靠性高可用测试 | 予乐</title><meta name="description" content="高可用和可靠性是从软件架构设计层面就需要考虑的因素，本文主要从测试角度去思考如何通过测试手段来保障软件系统的高可用和可靠性。"><meta property="og:type" content="article"><meta property="og:title" content="云IaaS测试系列一分布式存储测试实践2-可靠性高可用测试"><meta property="og:url" content="http://vwin.github.io/2022/10/17/%E4%BA%91IaaS%E6%B5%8B%E8%AF%95%E7%B3%BB%E5%88%97%E4%B8%80%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8%E6%B5%8B%E8%AF%95%E5%AE%9E%E8%B7%B52-%E5%8F%AF%E9%9D%A0%E6%80%A7%E9%AB%98%E5%8F%AF%E7%94%A8%E6%B5%8B%E8%AF%95/index.html"><meta property="og:site_name" content="V&#39;s BLOG"><meta property="og:description" content="高可用和可靠性是从软件架构设计层面就需要考虑的因素，本文主要从测试角度去思考如何通过测试手段来保障软件系统的高可用和可靠性。"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="http://vwin.github.io/2022/10/17/%E4%BA%91IaaS%E6%B5%8B%E8%AF%95%E7%B3%BB%E5%88%97%E4%B8%80%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8%E6%B5%8B%E8%AF%95%E5%AE%9E%E8%B7%B52-%E5%8F%AF%E9%9D%A0%E6%80%A7%E9%AB%98%E5%8F%AF%E7%94%A8%E6%B5%8B%E8%AF%95/10/17/%E4%BA%91IaaS%E6%B5%8B%E8%AF%95%E7%B3%BB%E5%88%97%E4%B8%80%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8%E6%B5%8B%E8%AF%95%E5%AE%9E%E8%B7%B52-%E5%8F%AF%E9%9D%A0%E6%80%A7%E9%AB%98%E5%8F%AF%E7%94%A8%E6%B5%8B%E8%AF%95/img_2.png"><meta property="og:image" content="http://vwin.github.io/2022/10/17/%E4%BA%91IaaS%E6%B5%8B%E8%AF%95%E7%B3%BB%E5%88%97%E4%B8%80%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8%E6%B5%8B%E8%AF%95%E5%AE%9E%E8%B7%B52-%E5%8F%AF%E9%9D%A0%E6%80%A7%E9%AB%98%E5%8F%AF%E7%94%A8%E6%B5%8B%E8%AF%95/10/17/%E4%BA%91IaaS%E6%B5%8B%E8%AF%95%E7%B3%BB%E5%88%97%E4%B8%80%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8%E6%B5%8B%E8%AF%95%E5%AE%9E%E8%B7%B52-%E5%8F%AF%E9%9D%A0%E6%80%A7%E9%AB%98%E5%8F%AF%E7%94%A8%E6%B5%8B%E8%AF%95/img_3.png"><meta property="og:image" content="http://vwin.github.io/2022/10/17/%E4%BA%91IaaS%E6%B5%8B%E8%AF%95%E7%B3%BB%E5%88%97%E4%B8%80%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8%E6%B5%8B%E8%AF%95%E5%AE%9E%E8%B7%B52-%E5%8F%AF%E9%9D%A0%E6%80%A7%E9%AB%98%E5%8F%AF%E7%94%A8%E6%B5%8B%E8%AF%95/10/17/%E4%BA%91IaaS%E6%B5%8B%E8%AF%95%E7%B3%BB%E5%88%97%E4%B8%80%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8%E6%B5%8B%E8%AF%95%E5%AE%9E%E8%B7%B52-%E5%8F%AF%E9%9D%A0%E6%80%A7%E9%AB%98%E5%8F%AF%E7%94%A8%E6%B5%8B%E8%AF%95/img_4.png"><meta property="og:image" content="http://vwin.github.io/2022/10/17/%E4%BA%91IaaS%E6%B5%8B%E8%AF%95%E7%B3%BB%E5%88%97%E4%B8%80%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8%E6%B5%8B%E8%AF%95%E5%AE%9E%E8%B7%B52-%E5%8F%AF%E9%9D%A0%E6%80%A7%E9%AB%98%E5%8F%AF%E7%94%A8%E6%B5%8B%E8%AF%95/10/17/%E4%BA%91IaaS%E6%B5%8B%E8%AF%95%E7%B3%BB%E5%88%97%E4%B8%80%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8%E6%B5%8B%E8%AF%95%E5%AE%9E%E8%B7%B52-%E5%8F%AF%E9%9D%A0%E6%80%A7%E9%AB%98%E5%8F%AF%E7%94%A8%E6%B5%8B%E8%AF%95/img_5.png"><meta property="og:image" content="http://vwin.github.io/2022/10/17/%E4%BA%91IaaS%E6%B5%8B%E8%AF%95%E7%B3%BB%E5%88%97%E4%B8%80%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8%E6%B5%8B%E8%AF%95%E5%AE%9E%E8%B7%B52-%E5%8F%AF%E9%9D%A0%E6%80%A7%E9%AB%98%E5%8F%AF%E7%94%A8%E6%B5%8B%E8%AF%95/10/17/%E4%BA%91IaaS%E6%B5%8B%E8%AF%95%E7%B3%BB%E5%88%97%E4%B8%80%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8%E6%B5%8B%E8%AF%95%E5%AE%9E%E8%B7%B52-%E5%8F%AF%E9%9D%A0%E6%80%A7%E9%AB%98%E5%8F%AF%E7%94%A8%E6%B5%8B%E8%AF%95/img_6.png"><meta property="og:image" content="http://vwin.github.io/2022/10/17/%E4%BA%91IaaS%E6%B5%8B%E8%AF%95%E7%B3%BB%E5%88%97%E4%B8%80%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8%E6%B5%8B%E8%AF%95%E5%AE%9E%E8%B7%B52-%E5%8F%AF%E9%9D%A0%E6%80%A7%E9%AB%98%E5%8F%AF%E7%94%A8%E6%B5%8B%E8%AF%95/10/17/%E4%BA%91IaaS%E6%B5%8B%E8%AF%95%E7%B3%BB%E5%88%97%E4%B8%80%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8%E6%B5%8B%E8%AF%95%E5%AE%9E%E8%B7%B52-%E5%8F%AF%E9%9D%A0%E6%80%A7%E9%AB%98%E5%8F%AF%E7%94%A8%E6%B5%8B%E8%AF%95/img_7.png"><meta property="og:image" content="http://vwin.github.io/2022/10/17/%E4%BA%91IaaS%E6%B5%8B%E8%AF%95%E7%B3%BB%E5%88%97%E4%B8%80%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8%E6%B5%8B%E8%AF%95%E5%AE%9E%E8%B7%B52-%E5%8F%AF%E9%9D%A0%E6%80%A7%E9%AB%98%E5%8F%AF%E7%94%A8%E6%B5%8B%E8%AF%95/10/17/%E4%BA%91IaaS%E6%B5%8B%E8%AF%95%E7%B3%BB%E5%88%97%E4%B8%80%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8%E6%B5%8B%E8%AF%95%E5%AE%9E%E8%B7%B52-%E5%8F%AF%E9%9D%A0%E6%80%A7%E9%AB%98%E5%8F%AF%E7%94%A8%E6%B5%8B%E8%AF%95/img_8.png"><meta property="og:image" content="http://vwin.github.io/2022/10/17/%E4%BA%91IaaS%E6%B5%8B%E8%AF%95%E7%B3%BB%E5%88%97%E4%B8%80%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8%E6%B5%8B%E8%AF%95%E5%AE%9E%E8%B7%B52-%E5%8F%AF%E9%9D%A0%E6%80%A7%E9%AB%98%E5%8F%AF%E7%94%A8%E6%B5%8B%E8%AF%95/10/17/%E4%BA%91IaaS%E6%B5%8B%E8%AF%95%E7%B3%BB%E5%88%97%E4%B8%80%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8%E6%B5%8B%E8%AF%95%E5%AE%9E%E8%B7%B52-%E5%8F%AF%E9%9D%A0%E6%80%A7%E9%AB%98%E5%8F%AF%E7%94%A8%E6%B5%8B%E8%AF%95/img_9.png"><meta property="article:published_time" content="2022-10-17T07:15:36.000Z"><meta property="article:modified_time" content="2022-11-19T03:52:08.983Z"><meta property="article:author" content="V"><meta property="article:tag" content="分布式"><meta property="article:tag" content="IaaS"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="http://vwin.github.io/2022/10/17/%E4%BA%91IaaS%E6%B5%8B%E8%AF%95%E7%B3%BB%E5%88%97%E4%B8%80%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8%E6%B5%8B%E8%AF%95%E5%AE%9E%E8%B7%B52-%E5%8F%AF%E9%9D%A0%E6%80%A7%E9%AB%98%E5%8F%AF%E7%94%A8%E6%B5%8B%E8%AF%95/10/17/%E4%BA%91IaaS%E6%B5%8B%E8%AF%95%E7%B3%BB%E5%88%97%E4%B8%80%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8%E6%B5%8B%E8%AF%95%E5%AE%9E%E8%B7%B52-%E5%8F%AF%E9%9D%A0%E6%80%A7%E9%AB%98%E5%8F%AF%E7%94%A8%E6%B5%8B%E8%AF%95/img_2.png"><link rel="canonical" href="http://vwin.github.io/2022/10/17/%E4%BA%91IaaS%E6%B5%8B%E8%AF%95%E7%B3%BB%E5%88%97%E4%B8%80%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8%E6%B5%8B%E8%AF%95%E5%AE%9E%E8%B7%B52-%E5%8F%AF%E9%9D%A0%E6%80%A7%E9%AB%98%E5%8F%AF%E7%94%A8%E6%B5%8B%E8%AF%95/index.html"><link rel="alternate" href="/atom.xml" title="V&#39;s BLOG" type="application/atom+xml"><link rel="icon" href="/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"><link href="//cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.3.5/dist/jquery.fancybox.min.css" rel="stylesheet"><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?8082412711ea4c547c7fdf0e87eb19fb";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><meta name="generator" content="Hexo 6.0.0"></head><body class="main-center" itemscope itemtype="http://schema.org/WebPage"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="slimContent"><div class="navbar-header"><div class="profile-block text-center"><a id="avatar" href="https://github.com/vwin" target="_blank"><img class="img-circle img-rotate" src="/images/avatar.jpg" width="200" height="200"></a><h2 id="name" class="hidden-xs hidden-sm">will</h2><h3 id="title" class="hidden-xs hidden-sm hidden-md">Software Development Engineer in Test &amp; Devops Engineer</h3><small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i> Beijing, China</small></div><div class="search" id="search-form-wrap"><form class="search-form sidebar-form"><div class="input-group"><input type="text" class="search-form-input form-control" placeholder="搜索"> <span class="input-group-btn"><button type="submit" class="search-form-submit btn btn-flat" onclick="return!1"><i class="icon icon-search"></i></button></span></div></form><div class="ins-search"><div class="ins-search-mask"></div><div class="ins-search-container"><div class="ins-input-wrapper"><input type="text" class="ins-search-input" placeholder="想要查找什么..." x-webkit-speech> <button type="button" class="close ins-close ins-selectable" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button></div><div class="ins-section-wrapper"><div class="ins-section-container"></div></div></div></div></div><button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false"><span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button></div><nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation"><ul class="nav navbar-nav main-nav"><li class="menu-item menu-item-home"><a href="/."><i class="icon icon-home-fill"></i> <span class="menu-title">首页</span></a></li><li class="menu-item menu-item-archives"><a href="/archives"><i class="icon icon-archives-fill"></i> <span class="menu-title">归档</span></a></li><li class="menu-item menu-item-about"><a href="/about"><i class="icon icon-cup-fill"></i> <span class="menu-title">关于</span></a></li><li class="menu-item menu-item-bookmark"><a href="/bookmark"><i class="icon icon-book"></i> <span class="menu-title">书签</span></a></li></ul><ul class="social-links"><li><a href="https://github.com/vwin" target="_blank" title="Github" data-toggle="tooltip" data-placement="top"><i class="icon icon-github"></i></a></li><li><a href="https://yuleweici.com/yuleweici/" target="_blank" title="Link" data-toggle="tooltip" data-placement="top"><i class="icon icon-link"></i></a></li><li><a href="mailto:crazyboyspecial@qq.com" target="_blank" title="Email" data-toggle="tooltip" data-placement="top"><i class="icon icon-email"></i></a></li><li><a href="/atom.xml" target="_blank" title="Rss" data-toggle="tooltip" data-placement="top"><i class="icon icon-rss"></i></a></li></ul></nav></div></header><aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar"><div class="slimContent"><div class="widget"><h3 class="widget-title">公告</h3><div class="widget-body"><div id="board"><div class="content"><p>欢迎交流与分享经验.<br><a style="color:red" target="_blank" href="https://yuleweici.com/yuleweici-vuepress/">博客-Vuepress</a><br><a style="color:green" target="_blank" href="http://yuleweici.com/yuleweici-docsify/#/">博客-Docsify</a></p></div></div></div></div><div class="widget"><h3 class="widget-title">分类</h3><div class="widget-body"><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Hexo/">Hexo</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%B7%A5%E4%BD%9C/">工作</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a><span class="category-list-count">60</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%B5%8B%E8%AF%95/">测试</a><span class="category-list-count">25</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%94%9F%E6%B4%BB/">生活</a><span class="category-list-count">1</span></li></ul></div></div><div class="widget"><h3 class="widget-title">标签</h3><div class="widget-body"><ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/AI%E8%AF%84%E6%B5%8B/" rel="tag">AI评测</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/" rel="tag">C++</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CI/" rel="tag">CI</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Conan/" rel="tag">Conan</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Derrick/" rel="tag">Derrick</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Devops/" rel="tag">Devops</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Go/" rel="tag">Go</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Grafana/" rel="tag">Grafana</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML/" rel="tag">HTML</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IaaS/" rel="tag">IaaS</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Iaas/" rel="tag">Iaas</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Jenkins/" rel="tag">Jenkins</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Prometheus/" rel="tag">Prometheus</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/" rel="tag">Python</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/QPS/" rel="tag">QPS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TPS/" rel="tag">TPS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/UI%E8%87%AA%E5%8A%A8%E5%8C%96/" rel="tag">UI自动化</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Ubuntu/" rel="tag">Ubuntu</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/aio/" rel="tag">aio</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/airtest/" rel="tag">airtest</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/bio/" rel="tag">bio</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/bootstrap/" rel="tag">bootstrap</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/broker/" rel="tag">broker</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/buffer/" rel="tag">buffer</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/c/" rel="tag">c++</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cached/" rel="tag">cached</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/celery/" rel="tag">celery</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cmake/" rel="tag">cmake</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cnpm/" rel="tag">cnpm</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/consumer/" rel="tag">consumer</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/date/" rel="tag">date</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/datetime/" rel="tag">datetime</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/describe/" rel="tag">describe</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dict/" rel="tag">dict</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker/" rel="tag">docker</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/element-ui/" rel="tag">element ui</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/flask/" rel="tag">flask</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/fn/" rel="tag">fn</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/fp/" rel="tag">fp</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/free/" rel="tag">free</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/geojson/" rel="tag">geojson</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/" rel="tag">git</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/github/" rel="tag">github</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/github-pages/" rel="tag">github pages</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/go/" rel="tag">go</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gunicorn/" rel="tag">gunicorn</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hadoop/" rel="tag">hadoop</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/" rel="tag">hexo</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/http/" rel="tag">http</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ios/" rel="tag">ios</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jdk/" rel="tag">jdk</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jmeter/" rel="tag">jmeter</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jre/" rel="tag">jre</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/json/" rel="tag">json</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jupyter-notebook/" rel="tag">jupyter notebook</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/k6/" rel="tag">k6</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kafka/" rel="tag">kafka</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kafka-topic-sh/" rel="tag">kafka-topic.sh</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lambda/" rel="tag">lambda</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/laravel/" rel="tag">laravel</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/" rel="tag">linux</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/list/" rel="tag">list</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/locust/" rel="tag">locust</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/makefile/" rel="tag">makefile</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/metaclass/" rel="tag">metaclass</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mfs/" rel="tag">mfs</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mysql/" rel="tag">mysql</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/next/" rel="tag">next</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nio/" rel="tag">nio</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nmake/" rel="tag">nmake</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/npm/" rel="tag">npm</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/paramiko/" rel="tag">paramiko</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/partition/" rel="tag">partition</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pdf/" rel="tag">pdf</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/perf/" rel="tag">perf</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/php/" rel="tag">php</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/php5-fpm/" rel="tag">php5-fpm</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/php7-fpm/" rel="tag">php7-fpm</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pip/" rel="tag">pip</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pytest/" rel="tag">pytest</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/" rel="tag">python</a><span class="tag-list-count">20</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pythonic/" rel="tag">pythonic</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/qgis/" rel="tag">qgis</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/re/" rel="tag">re</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/replica/" rel="tag">replica</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/roc/" rel="tag">roc</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/samba/" rel="tag">samba</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/scp/" rel="tag">scp</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/seaweedfs/" rel="tag">seaweedfs</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sorted/" rel="tag">sorted</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spark/" rel="tag">spark</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ssh/" rel="tag">ssh</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sudo/" rel="tag">sudo</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/supervisor/" rel="tag">supervisor</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/systemtap/" rel="tag">systemtap</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/time/" rel="tag">time</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/timeout/" rel="tag">timeout</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tmux/" rel="tag">tmux</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tn/" rel="tag">tn</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tp/" rel="tag">tp</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ubuntu/" rel="tag">ubuntu</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/unittest/" rel="tag">unittest</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vue/" rel="tag">vue</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/websocket/" rel="tag">websocket</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/zip/" rel="tag">zip</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BA%91/" rel="tag">云</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/" rel="tag">人工智能</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BF%9D%E9%99%A9/" rel="tag">保险</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%85%A8%E9%93%BE%E8%B7%AF/" rel="tag">全链路</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%87%BD%E6%95%B0/" rel="tag">函数</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F/" rel="tag">分布式</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%88%86%E6%94%AF%E7%AD%96%E7%95%A5/" rel="tag">分支策略</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/" rel="tag">单例模式</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8D%95%E6%B5%8B/" rel="tag">单测</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8E%8B%E6%B5%8B/" rel="tag">压测</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%90%8E%E5%8F%B0/" rel="tag">后台</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%90%8E%E5%8F%B0%E5%85%B3%E7%B3%BB/" rel="tag">后台关系</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90/" rel="tag">域名解析</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE/" rel="tag">大数据</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%A4%B4%E6%96%87%E4%BB%B6/" rel="tag">头文件</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AD%98%E5%82%A8/" rel="tag">存储</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90/" rel="tag">性能分析</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/" rel="tag">性能测试</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90/" rel="tag">持续集成</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%8E%92%E5%BA%8F/" rel="tag">排序</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%8F%92%E4%BB%B6/" rel="tag">插件</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%99%E7%A8%8B/" rel="tag">教程</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%96%90%E6%B3%A2%E9%82%A3%E5%A5%91%E6%95%B0%E5%88%97/" rel="tag">斐波那契数列</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%97%A5%E6%9C%9F/" rel="tag">日期</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%97%B6%E9%97%B4/" rel="tag">时间</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B5%8B%E8%AF%95/" rel="tag">测试</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%81%AB%E7%84%B0%E5%9B%BE/" rel="tag">火焰图</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%94%B5%E5%BD%B1/" rel="tag">电影</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98/" rel="tag">百度网盘</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%9B%91%E6%8E%A7/" rel="tag">监控</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%9F%A9%E9%98%B5/" rel="tag">矩阵</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AE%97%E6%B3%95/" rel="tag">算法</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BD%91%E7%BB%9C%E7%8E%AF%E5%A2%83/" rel="tag">网络环境</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%87%AA%E5%8A%A8%E9%A9%BE%E9%A9%B6/" rel="tag">自动驾驶</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%A1%8C%E6%94%BF%E5%8C%BA/" rel="tag">行政区</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" rel="tag">设计模式</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AF%8D%E4%BA%91/" rel="tag">词云</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AF%AD%E6%B3%95%E7%B3%96/" rel="tag">语法糖</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%B1%86%E7%93%A3/" rel="tag">豆瓣</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%B4%A3%E4%BB%BB%E9%93%BE%E6%A8%A1%E5%BC%8F/" rel="tag">责任链模式</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%80%92%E5%BD%92/" rel="tag">递归</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%81%93%E6%A0%BC%E6%8B%89%E6%96%AF/" rel="tag">道格拉斯</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%97%AD%E5%8C%85/" rel="tag">闭包</a><span class="tag-list-count">1</span></li></ul></div></div><div class="widget"><h3 class="widget-title">标签云</h3><div class="widget-body tagcloud"><a href="/tags/AI%E8%AF%84%E6%B5%8B/" style="font-size:13px">AI评测</a> <a href="/tags/C/" style="font-size:13.29px">C++</a> <a href="/tags/CI/" style="font-size:13px">CI</a> <a href="/tags/Conan/" style="font-size:13px">Conan</a> <a href="/tags/Derrick/" style="font-size:13px">Derrick</a> <a href="/tags/Devops/" style="font-size:13px">Devops</a> <a href="/tags/Go/" style="font-size:13px">Go</a> <a href="/tags/Grafana/" style="font-size:13px">Grafana</a> <a href="/tags/HTML/" style="font-size:13px">HTML</a> <a href="/tags/IaaS/" style="font-size:13.29px">IaaS</a> <a href="/tags/Iaas/" style="font-size:13.14px">Iaas</a> <a href="/tags/Jenkins/" style="font-size:13.14px">Jenkins</a> <a href="/tags/Prometheus/" style="font-size:13px">Prometheus</a> <a href="/tags/Python/" style="font-size:13.14px">Python</a> <a href="/tags/QPS/" style="font-size:13px">QPS</a> <a href="/tags/TPS/" style="font-size:13px">TPS</a> <a href="/tags/UI%E8%87%AA%E5%8A%A8%E5%8C%96/" style="font-size:13px">UI自动化</a> <a href="/tags/Ubuntu/" style="font-size:13px">Ubuntu</a> <a href="/tags/aio/" style="font-size:13px">aio</a> <a href="/tags/airtest/" style="font-size:13px">airtest</a> <a href="/tags/bio/" style="font-size:13px">bio</a> <a href="/tags/bootstrap/" style="font-size:13px">bootstrap</a> <a href="/tags/broker/" style="font-size:13px">broker</a> <a href="/tags/buffer/" style="font-size:13px">buffer</a> <a href="/tags/c/" style="font-size:13.14px">c++</a> <a href="/tags/cached/" style="font-size:13px">cached</a> <a href="/tags/celery/" style="font-size:13px">celery</a> <a href="/tags/cmake/" style="font-size:13px">cmake</a> <a href="/tags/cnpm/" style="font-size:13px">cnpm</a> <a href="/tags/consumer/" style="font-size:13px">consumer</a> <a href="/tags/date/" style="font-size:13px">date</a> <a href="/tags/datetime/" style="font-size:13px">datetime</a> <a href="/tags/describe/" style="font-size:13px">describe</a> <a href="/tags/dict/" style="font-size:13px">dict</a> <a href="/tags/docker/" style="font-size:13px">docker</a> <a href="/tags/element-ui/" style="font-size:13px">element ui</a> <a href="/tags/flask/" style="font-size:13px">flask</a> <a href="/tags/fn/" style="font-size:13px">fn</a> <a href="/tags/fp/" style="font-size:13px">fp</a> <a href="/tags/free/" style="font-size:13px">free</a> <a href="/tags/geojson/" style="font-size:13px">geojson</a> <a href="/tags/git/" style="font-size:13px">git</a> <a href="/tags/github/" style="font-size:13px">github</a> <a href="/tags/github-pages/" style="font-size:13px">github pages</a> <a href="/tags/go/" style="font-size:13px">go</a> <a href="/tags/gunicorn/" style="font-size:13px">gunicorn</a> <a href="/tags/hadoop/" style="font-size:13px">hadoop</a> <a href="/tags/hexo/" style="font-size:13.29px">hexo</a> <a href="/tags/http/" style="font-size:13px">http</a> <a href="/tags/ios/" style="font-size:13px">ios</a> <a href="/tags/jdk/" style="font-size:13px">jdk</a> <a href="/tags/jmeter/" style="font-size:13.29px">jmeter</a> <a href="/tags/jre/" style="font-size:13px">jre</a> <a href="/tags/json/" style="font-size:13px">json</a> <a href="/tags/jupyter-notebook/" style="font-size:13px">jupyter notebook</a> <a href="/tags/k6/" style="font-size:13px">k6</a> <a href="/tags/kafka/" style="font-size:13.14px">kafka</a> <a href="/tags/kafka-topic-sh/" style="font-size:13px">kafka-topic.sh</a> <a href="/tags/lambda/" style="font-size:13.14px">lambda</a> <a href="/tags/laravel/" style="font-size:13px">laravel</a> <a href="/tags/linux/" style="font-size:13.86px">linux</a> <a href="/tags/list/" style="font-size:13px">list</a> <a href="/tags/locust/" style="font-size:13.14px">locust</a> <a href="/tags/makefile/" style="font-size:13px">makefile</a> <a href="/tags/metaclass/" style="font-size:13px">metaclass</a> <a href="/tags/mfs/" style="font-size:13px">mfs</a> <a href="/tags/mysql/" style="font-size:13px">mysql</a> <a href="/tags/next/" style="font-size:13.14px">next</a> <a href="/tags/nio/" style="font-size:13px">nio</a> <a href="/tags/nmake/" style="font-size:13px">nmake</a> <a href="/tags/npm/" style="font-size:13px">npm</a> <a href="/tags/paramiko/" style="font-size:13px">paramiko</a> <a href="/tags/partition/" style="font-size:13.14px">partition</a> <a href="/tags/pdf/" style="font-size:13px">pdf</a> <a href="/tags/perf/" style="font-size:13px">perf</a> <a href="/tags/php/" style="font-size:13px">php</a> <a href="/tags/php5-fpm/" style="font-size:13px">php5-fpm</a> <a href="/tags/php7-fpm/" style="font-size:13px">php7-fpm</a> <a href="/tags/pip/" style="font-size:13px">pip</a> <a href="/tags/pytest/" style="font-size:13px">pytest</a> <a href="/tags/python/" style="font-size:14px">python</a> <a href="/tags/pythonic/" style="font-size:13px">pythonic</a> <a href="/tags/qgis/" style="font-size:13px">qgis</a> <a href="/tags/re/" style="font-size:13px">re</a> <a href="/tags/replica/" style="font-size:13.14px">replica</a> <a href="/tags/roc/" style="font-size:13px">roc</a> <a href="/tags/samba/" style="font-size:13px">samba</a> <a href="/tags/scp/" style="font-size:13px">scp</a> <a href="/tags/seaweedfs/" style="font-size:13px">seaweedfs</a> <a href="/tags/sorted/" style="font-size:13px">sorted</a> <a href="/tags/spark/" style="font-size:13.57px">spark</a> <a href="/tags/ssh/" style="font-size:13.14px">ssh</a> <a href="/tags/sudo/" style="font-size:13px">sudo</a> <a href="/tags/supervisor/" style="font-size:13px">supervisor</a> <a href="/tags/systemtap/" style="font-size:13px">systemtap</a> <a href="/tags/time/" style="font-size:13px">time</a> <a href="/tags/timeout/" style="font-size:13px">timeout</a> <a href="/tags/tmux/" style="font-size:13px">tmux</a> <a href="/tags/tn/" style="font-size:13px">tn</a> <a href="/tags/tp/" style="font-size:13px">tp</a> <a href="/tags/ubuntu/" style="font-size:13.29px">ubuntu</a> <a href="/tags/unittest/" style="font-size:13px">unittest</a> <a href="/tags/vue/" style="font-size:13px">vue</a> <a href="/tags/websocket/" style="font-size:13px">websocket</a> <a href="/tags/zip/" style="font-size:13px">zip</a> <a href="/tags/%E4%BA%91/" style="font-size:13px">云</a> <a href="/tags/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/" style="font-size:13px">人工智能</a> <a href="/tags/%E4%BF%9D%E9%99%A9/" style="font-size:13px">保险</a> <a href="/tags/%E5%85%A8%E9%93%BE%E8%B7%AF/" style="font-size:13px">全链路</a> <a href="/tags/%E5%87%BD%E6%95%B0/" style="font-size:13px">函数</a> <a href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F/" style="font-size:13.29px">分布式</a> <a href="/tags/%E5%88%86%E6%94%AF%E7%AD%96%E7%95%A5/" style="font-size:13px">分支策略</a> <a href="/tags/%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/" style="font-size:13px">单例模式</a> <a href="/tags/%E5%8D%95%E6%B5%8B/" style="font-size:13.29px">单测</a> <a href="/tags/%E5%8E%8B%E6%B5%8B/" style="font-size:13.14px">压测</a> <a href="/tags/%E5%90%8E%E5%8F%B0/" style="font-size:13px">后台</a> <a href="/tags/%E5%90%8E%E5%8F%B0%E5%85%B3%E7%B3%BB/" style="font-size:13px">后台关系</a> <a href="/tags/%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90/" style="font-size:13px">域名解析</a> <a href="/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE/" style="font-size:13.71px">大数据</a> <a href="/tags/%E5%A4%B4%E6%96%87%E4%BB%B6/" style="font-size:13px">头文件</a> <a href="/tags/%E5%AD%98%E5%82%A8/" style="font-size:13px">存储</a> <a href="/tags/%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90/" style="font-size:13px">性能分析</a> <a href="/tags/%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/" style="font-size:13.86px">性能测试</a> <a href="/tags/%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90/" style="font-size:13.14px">持续集成</a> <a href="/tags/%E6%8E%92%E5%BA%8F/" style="font-size:13px">排序</a> <a href="/tags/%E6%8F%92%E4%BB%B6/" style="font-size:13px">插件</a> <a href="/tags/%E6%95%99%E7%A8%8B/" style="font-size:13px">教程</a> <a href="/tags/%E6%96%90%E6%B3%A2%E9%82%A3%E5%A5%91%E6%95%B0%E5%88%97/" style="font-size:13px">斐波那契数列</a> <a href="/tags/%E6%97%A5%E6%9C%9F/" style="font-size:13px">日期</a> <a href="/tags/%E6%97%B6%E9%97%B4/" style="font-size:13px">时间</a> <a href="/tags/%E6%B5%8B%E8%AF%95/" style="font-size:13.43px">测试</a> <a href="/tags/%E7%81%AB%E7%84%B0%E5%9B%BE/" style="font-size:13px">火焰图</a> <a href="/tags/%E7%94%B5%E5%BD%B1/" style="font-size:13px">电影</a> <a href="/tags/%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98/" style="font-size:13px">百度网盘</a> <a href="/tags/%E7%9B%91%E6%8E%A7/" style="font-size:13px">监控</a> <a href="/tags/%E7%9F%A9%E9%98%B5/" style="font-size:13px">矩阵</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size:13px">算法</a> <a href="/tags/%E7%BD%91%E7%BB%9C%E7%8E%AF%E5%A2%83/" style="font-size:13px">网络环境</a> <a href="/tags/%E8%87%AA%E5%8A%A8%E9%A9%BE%E9%A9%B6/" style="font-size:13.29px">自动驾驶</a> <a href="/tags/%E8%A1%8C%E6%94%BF%E5%8C%BA/" style="font-size:13px">行政区</a> <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size:13.14px">设计模式</a> <a href="/tags/%E8%AF%8D%E4%BA%91/" style="font-size:13px">词云</a> <a href="/tags/%E8%AF%AD%E6%B3%95%E7%B3%96/" style="font-size:13px">语法糖</a> <a href="/tags/%E8%B1%86%E7%93%A3/" style="font-size:13px">豆瓣</a> <a href="/tags/%E8%B4%A3%E4%BB%BB%E9%93%BE%E6%A8%A1%E5%BC%8F/" style="font-size:13px">责任链模式</a> <a href="/tags/%E9%80%92%E5%BD%92/" style="font-size:13px">递归</a> <a href="/tags/%E9%81%93%E6%A0%BC%E6%8B%89%E6%96%AF/" style="font-size:13px">道格拉斯</a> <a href="/tags/%E9%97%AD%E5%8C%85/" style="font-size:13px">闭包</a></div></div><div class="widget"><h3 class="widget-title">归档</h3><div class="widget-body"><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/11/">十一月 2022</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/10/">十月 2022</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/09/">九月 2022</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/08/">八月 2022</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">九月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">八月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">十二月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">八月 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">一月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">八月 2019</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">一月 2019</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">十二月 2018</a><span class="archive-list-count">22</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">十一月 2018</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">十月 2018</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">九月 2018</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">八月 2018</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">七月 2018</a><span class="archive-list-count">2</span></li></ul></div></div><div class="widget"><h3 class="widget-title">最新文章</h3><div class="widget-body"><ul class="recent-post-list list-unstyled no-thumbnail"><li><div class="item-inner"><p class="item-category"><a class="category-link" href="/categories/%E6%B5%8B%E8%AF%95/">测试</a></p><p class="item-title"><a href="/2022/11/15/%E5%8E%8B%E6%B5%8B-%E5%9F%BA%E4%BA%8EK6%E7%9A%84web%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95%E5%92%8C%E5%AE%9E%E6%97%B6%E7%9B%91%E6%8E%A7%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/" class="title">压测-基于K6的web性能测试和实时监控解决方案</a></p><p class="item-date"><time datetime="2022-11-15T08:38:42.000Z" itemprop="datePublished">2022-11-15</time></p></div></li><li><div class="item-inner"><p class="item-category"><a class="category-link" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a></p><p class="item-title"><a href="/2022/11/14/%E8%87%AA%E5%8A%A8%E9%A9%BE%E9%A9%B6-GeoJson%E5%AD%A6%E4%B9%A0/" class="title">自动驾驶-GeoJson学习</a></p><p class="item-date"><time datetime="2022-11-14T08:50:42.000Z" itemprop="datePublished">2022-11-14</time></p></div></li><li><div class="item-inner"><p class="item-category"><a class="category-link" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a></p><p class="item-title"><a href="/2022/11/14/%E8%87%AA%E5%8A%A8%E9%A9%BE%E9%A9%B6-QGIS%E4%BD%BF%E7%94%A8/" class="title">自动驾驶-QGIS使用</a></p><p class="item-date"><time datetime="2022-11-14T08:49:11.000Z" itemprop="datePublished">2022-11-14</time></p></div></li><li><div class="item-inner"><p class="item-category"><a class="category-link" href="/categories/%E6%B5%8B%E8%AF%95/">测试</a></p><p class="item-title"><a href="/2022/11/14/%E5%90%8E%E5%8F%B0%E6%B5%8B%E8%AF%95%E5%85%A5%E9%97%A8-%E5%A6%82%E4%BD%95%E5%81%9A%E5%90%8E%E5%8F%B0%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/" class="title">后台测试入门-如何做后台性能测试</a></p><p class="item-date"><time datetime="2022-11-14T05:31:58.000Z" itemprop="datePublished">2022-11-14</time></p></div></li><li><div class="item-inner"><p class="item-category"><a class="category-link" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a></p><p class="item-title"><a href="/2022/11/09/%E7%9B%91%E6%8E%A7-Prometheus-Grafana%E5%AE%9E%E6%88%98/" class="title">监控-Prometheus+Grafana实战</a></p><p class="item-date"><time datetime="2022-11-09T03:46:47.000Z" itemprop="datePublished">2022-11-09</time></p></div></li></ul></div></div></div></aside><aside class="sidebar sidebar-toc collapse in" id="collapseToc" itemscope itemtype="http://schema.org/WPSideBar"><div class="slimContent"><nav id="toc" class="article-toc"><h3 class="toc-title">文章目录</h3><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0"><span class="toc-number">1.</span> <span class="toc-text">概述</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%AB%98%E5%8F%AF%E7%94%A8%E5%92%8C%E5%8F%AF%E9%9D%A0%E6%80%A7%E6%B5%8B%E8%AF%95"><span class="toc-number">2.</span> <span class="toc-text">高可用和可靠性测试</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%85%E9%9A%9C%E6%B3%A8%E5%85%A5%E6%B5%8B%E8%AF%95"><span class="toc-number">2.1.</span> <span class="toc-text">故障注入测试</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%85%E9%9A%9C%E6%A8%A1%E5%BC%8F%E5%BA%93"><span class="toc-number">2.1.1.</span> <span class="toc-text">故障模式库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%85%E9%9A%9C%E6%B3%A8%E5%85%A5%E6%96%B9%E6%B3%95"><span class="toc-number">2.1.2.</span> <span class="toc-text">故障注入方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%85%E9%9A%9C%E5%9C%BA%E6%99%AF%E8%AE%BE%E8%AE%A1"><span class="toc-number">2.1.3.</span> <span class="toc-text">故障场景设计</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%85%E9%9A%9C%E5%9C%BA%E6%99%AF%E5%88%86%E6%9E%90"><span class="toc-number">2.1.4.</span> <span class="toc-text">故障场景分析</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E6%B5%81%E7%A8%8B%E5%88%86%E6%9E%90"><span class="toc-number">2.1.5.</span> <span class="toc-text">系统流程分析</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9A%8F%E6%9C%BA%E6%95%85%E9%9A%9C%E6%B5%8B%E8%AF%95"><span class="toc-number">2.1.6.</span> <span class="toc-text">随机故障测试</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%9A%E5%8A%A1%E5%9C%BA%E6%99%AF%E6%9E%84%E9%80%A0%E6%B5%8B%E8%AF%95"><span class="toc-number">2.2.</span> <span class="toc-text">业务场景构造测试</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#CFT%E5%8F%8A%E6%B7%B7%E6%B2%8C%E6%B5%8B%E8%AF%95"><span class="toc-number">3.</span> <span class="toc-text">CFT及混沌测试</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%83%E6%95%B0%E6%8D%AE%E9%AB%98%E5%8F%AF%E7%94%A8%E6%B5%8B%E8%AF%95"><span class="toc-number">4.</span> <span class="toc-text">元数据高可用测试</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BB%93%E8%AF%AD"><span class="toc-number">5.</span> <span class="toc-text">结语</span></a></li></ol></nav></div></aside><main class="main" role="main"><div class="content"><article id="post-云IaaS测试系列一分布式存储测试实践2-可靠性高可用测试" class="article article-type-post" itemscope itemtype="http://schema.org/BlogPosting"><div class="article-header"><h1 class="article-title" itemprop="name">云IaaS测试系列一分布式存储测试实践2-可靠性高可用测试</h1><div class="article-meta"><span class="article-date"><i class="icon icon-calendar-check"></i> <a href="/2022/10/17/%E4%BA%91IaaS%E6%B5%8B%E8%AF%95%E7%B3%BB%E5%88%97%E4%B8%80%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8%E6%B5%8B%E8%AF%95%E5%AE%9E%E8%B7%B52-%E5%8F%AF%E9%9D%A0%E6%80%A7%E9%AB%98%E5%8F%AF%E7%94%A8%E6%B5%8B%E8%AF%95/" class="article-date"><time datetime="2022-10-17T07:15:36.000Z" itemprop="datePublished">2022-10-17</time> </a></span><span class="article-category"><i class="icon icon-folder"></i> <a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a> </span><span class="article-tag"><i class="icon icon-tags"></i> <a class="article-tag-link-link" href="/tags/IaaS/" rel="tag">IaaS</a>, <a class="article-tag-link-link" href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F/" rel="tag">分布式</a> </span><span class="article-read hidden-xs"><i class="icon icon-eye-fill" aria-hidden="true"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span> </span></span><span class="post-comment"><i class="icon icon-comment"></i> <a href="/2022/10/17/%E4%BA%91IaaS%E6%B5%8B%E8%AF%95%E7%B3%BB%E5%88%97%E4%B8%80%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8%E6%B5%8B%E8%AF%95%E5%AE%9E%E8%B7%B52-%E5%8F%AF%E9%9D%A0%E6%80%A7%E9%AB%98%E5%8F%AF%E7%94%A8%E6%B5%8B%E8%AF%95/#comments" class="article-comment-link">评论</a></span> <span class="post-wordcount hidden-xs" itemprop="wordCount">字数统计: 5.7k(字)</span> <span class="post-readcount hidden-xs" itemprop="timeRequired">阅读时长: 19(分)</span></div></div><div class="article-entry marked-body" itemprop="articleBody"><p>高可用和可靠性是从软件架构设计层面就需要考虑的因素，本文主要从测试角度去思考如何通过测试手段来保障软件系统的高可用和可靠性。</p><span id="more"></span><h1 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h1><p>系统可用性和可靠性是软件架构设计中经常要考虑的一个重要因素，它是用来衡量软件系统质量情况的一个关键指标。可用性通常是指系统能够提供服务的时间比例（可服务时间&#x2F;总时间），可用性越高，服务时间越长；可靠性是指系统无故障运行的时间，可靠性越高，无故障运行时间也越久，系统也越稳定。可靠性和可用性既有联系又有区别，可用性需要关注故障后的恢复时间。要保证系统的高可用，一方面要保证系统的可靠性，另一方面要保证系统的故障恢复时长；所以一般高可用和可靠性测试是紧密不分的。</p><p>从概率学的角度来讲，所有事物都不是100%可靠的，都是有失败或者错误概率的，只要运行或者变化次数足够多，失败或者错误的频次就会增大。那么高可用和可靠性本质上就是为了针对这种不可靠的事物，或者面对风险进行设计的。比如：软件系统依赖的第三方软件可能会失效，硬件和网络可能会损坏，一旦这些外部依赖出现不可预期的错误，会不会导致软件系统自身出现故障或者不可用，以及出现故障后能不能快速恢复，这是考量软件系统对错误的容忍度，也是高可用和可靠性设计需要解决和考虑的问题。</p><p>高可用和可靠性是从软件架构设计层面就需要考虑的因素，本文主要从测试角度去思考如何通过测试手段来保障软件系统的高可用和可靠性。</p><h1 id="高可用和可靠性测试"><a href="#高可用和可靠性测试" class="headerlink" title="高可用和可靠性测试"></a>高可用和可靠性测试</h1><p>如前文所讲，高可用和可靠性主要是面对各种不可靠风险进行设计和测试，而不可靠的原因有很多：</p><ul><li>系统本身的软硬件出现异常</li><li>依赖的第三方软硬件出现异常</li><li>来自客户端非预期的IO模型和流量</li><li>来自客户端超并发的请求</li><li>长时间运行软硬件系统可能出现的老化现象</li><li>运维人员进行变更可能会犯错导致，也可能出现异常</li></ul><p>对于不可靠因素出现的故障，是否能够快速恢复（如秒级恢复）是高可用设计和测试需要考虑的因素。高可用和可靠性测试主要包含了故障注入类测试和业务场景构造类测试。</p><h2 id="故障注入测试"><a href="#故障注入测试" class="headerlink" title="故障注入测试"></a>故障注入测试</h2><p>故障注入测试主要是指在系统运行时，采用特定的方法向系统本身或者系统依赖的第三方服务注入一个或多个异常，通过观察系统的表现来评估软件系统的可靠性和可用性，一个典型的故障注入测试流程如下图：<br>![img.png]</p><p>开展故障注入测试首先要面临的几个灵魂问题：</p><ol><li>注入什么样的故障？</li><li>如何注入故障？</li><li>故障需要在什么时间注入，什么时间恢复？</li><li>如何衡量故障注入或恢复后的系统表现是否符合预期？</li></ol><h3 id="故障模式库"><a href="#故障模式库" class="headerlink" title="故障模式库"></a>故障模式库</h3><p>首先解答第一个问题：要注入什么样的故障？</p><p>故障模式库定义了软件系统测试过程中涉及的所有故障类型，也是开展故障注入测试所依赖的基本内容，故障类型与软件架构及网络拓扑强相关，根据其在现网出现的频率以及故障的复杂度分为L0、L1、L2等级别，下面以CBS产品为例，列举下CBS产品的故障模式库。<br>![img_1.png]</p><p>CBS由多个分布式集群子系统组成，包含若干组件，组件之间通过交换机网络连接，部署在物理和虚拟机等服务器上，组件之间通过特定协议协同工作，并与网络&#x2F;数据库&#x2F;对象存储等第三方业务交互，因此根据业务架构和组网设计设计以下几种故障类型：</p><ul><li>网络级故障：CBS系统内部通过网络连接，网络分为TCP和RDMA网络，涉及的网络级故障主要是指对网络拓扑内的网络链路注入故障、亚健康等故障，常见的有网络时延、丢包、错包、限流、网卡重启、端口故障等。</li><li>组件级故障：主要是指组件出现异常crash、重启或者假死，包含软件系统内部组件以及系统依赖的第三方组件。</li><li>硬件级故障：CBS是基于物理硬件构建的存储系统，对硬件如网卡、硬盘、HBA卡有较强的依赖，此处的硬件级故障主要是指承载软件系统或者依赖的第三方硬件故障，如常见的硬盘异常、HBA 卡异常、网卡异常、交换机端口异常等。</li><li>系统类故障：CBS软件系统是部署在Linux系统的物理和虚拟机服务器之上，这里的系统类故障主要指服务器级别的故障，如常见的重启、掉电、内核crash、系统时间错乱等。</li><li>资源类故障：CBS软件系统运行需要依赖多种资源，基本的系统资源：如基本的CPU、内存、句柄、进程端口等，以及软件系统的一些内部资源：如Cache。这里的故障主要指承载软件系统的服务器资源以及软件系统内部的业务资源出现异常，如常见的资源耗尽、高负载、目录空间耗尽等</li><li>集群类故障：CBS是一个分布式集群，所以必须考虑集群粒度的故障影响，这里的故障主要指集群掉电、断网、主备切换等与业务架构强相关的故障。</li><li>运维类操作：主要指跟运维操作相关的场景，如常见的组件变更、系统的可服务性操作等</li></ul><h3 id="故障注入方法"><a href="#故障注入方法" class="headerlink" title="故障注入方法"></a>故障注入方法</h3><p>解答第2个问题：故障如何注入？</p><p>故障注入方式取决于故障类型，常见的方式主要有故障模拟和物理故障，两种方式各有优劣，故障模拟效率更高更灵活，但是故障本身与实际的故障会有部分差异；物理故障是真实的故障，场景更加真实，但是效率低，成本高。</p><p>举两个例子说明：</p><ol><li>对于网络丢包类和硬盘类故障，构造物理故障成本比较高，因此我们常用一些开源工具或者业务自行开发工具来模拟</li><li>对于交换机网络异常类故障，没有比较好的方法来模拟，就需要借助实际的硬件操作来注入，如重启交换机、关闭交换机端口等</li></ol><p>无论是故障模拟还是真实的物理故障，都是在成本和效率两方面进行权衡和评估，对于物理故障需要依赖专用的测试设备和环境拓扑，对于故障模拟，一方面借助业界比较常用的一些工具，但是对于一些故障注入方法缺失的场景，需要业务团队专门开发故障工具来模拟，常见的如磁盘坏道、慢盘、RDMA网络异常等，故障工具开发是故障注入测试过程中必须面临的问题，因为不是所有故障工具都可以用拿来主义。比如：磁盘类故障注入方法，利用SystemTap模拟磁盘故障。当然还有更加其他比较牛逼的工具用于辅助故障注入测试。</p><h3 id="故障场景设计"><a href="#故障场景设计" class="headerlink" title="故障场景设计"></a>故障场景设计</h3><p>解答第3、4个问题：故障注入及恢复时间，以及系统的表现是否符合预期？</p><p>故障场景设计主要是指将一个或多个故障与业务流程的不同阶段进行叠加，解决故障在什么时间注入以及注入和恢复后系统预期的表现。主要分为基于灰白盒的面向预期结果的故障测试和基于黑盒的面向未知预期的随机故障测试。</p><p>灰白盒故障场景测试设计是建立在对业务场景和系统流程比较熟悉的基础上，需要测试人员和开发人员等相关角色共同配合完成，需要对故障场景和系统流程进行深入分析，并以一定的策略来叠加。</p><h3 id="故障场景分析"><a href="#故障场景分析" class="headerlink" title="故障场景分析"></a>故障场景分析</h3><p>故障场景分析是指将故障模式库中的相关故障与组件和组网拓扑进行组合，生成每一条故障场景，故障场景分析框架如下：<br><img src="/2022/10/17/%E4%BA%91IaaS%E6%B5%8B%E8%AF%95%E7%B3%BB%E5%88%97%E4%B8%80%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8%E6%B5%8B%E8%AF%95%E5%AE%9E%E8%B7%B52-%E5%8F%AF%E9%9D%A0%E6%80%A7%E9%AB%98%E5%8F%AF%E7%94%A8%E6%B5%8B%E8%AF%95/10/17/%E4%BA%91IaaS%E6%B5%8B%E8%AF%95%E7%B3%BB%E5%88%97%E4%B8%80%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8%E6%B5%8B%E8%AF%95%E5%AE%9E%E8%B7%B52-%E5%8F%AF%E9%9D%A0%E6%80%A7%E9%AB%98%E5%8F%AF%E7%94%A8%E6%B5%8B%E8%AF%95/img_2.png"></p><p>将组件列表和故障模式库进行正交，删除无效故障场景，并根据故障类型进行L0&#x2F;L1等级别划分，最终实现故障场景集合。</p><p>下面以CBS的某条存储IO流程和网络类故障为示例：<br><img src="/2022/10/17/%E4%BA%91IaaS%E6%B5%8B%E8%AF%95%E7%B3%BB%E5%88%97%E4%B8%80%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8%E6%B5%8B%E8%AF%95%E5%AE%9E%E8%B7%B52-%E5%8F%AF%E9%9D%A0%E6%80%A7%E9%AB%98%E5%8F%AF%E7%94%A8%E6%B5%8B%E8%AF%95/10/17/%E4%BA%91IaaS%E6%B5%8B%E8%AF%95%E7%B3%BB%E5%88%97%E4%B8%80%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8%E6%B5%8B%E8%AF%95%E5%AE%9E%E8%B7%B52-%E5%8F%AF%E9%9D%A0%E6%80%A7%E9%AB%98%E5%8F%AF%E7%94%A8%E6%B5%8B%E8%AF%95/img_3.png"></p><p>上述架构中描述的几条核心网络链路：</p><ul><li>客户端通过网络访问存储集群副本进行io的读写</li><li>存储集群副本之间通过网络进行数据同步</li><li>客户端通过网络与管控节点交互进行管理数据以及元数据的访问</li><li>管控节点通过网络与zookeeper集群进行元数据的存取以及HA切换</li><li>管控节点与存储集群之间通过网络进行心跳及管理数据的同步</li></ul><p>网络异常故障需要与存储副本&#x2F;管控节点&#x2F;客户端&#x2F;zookeeper组件进行正交，得到以下故障场景：</p><ul><li>客户端与存储集群之间网络异常</li><li>客户端与管控节点间网络异常</li><li>存储副本之间网络异常</li><li>存储集群与客户端之间网络丢包</li><li>存储副本与管控节点之间网络丢包</li><li>管控节点与客户端之间网络丢包</li><li>管控节点与存储副本之间网络丢包</li><li>管控节点与zk集群的网络丢包</li></ul><p>其中2&#x2F;6，1&#x2F;4，5&#x2F;7为等价类故障，因此去除等价类后剩余5种故障场景，丢包率设置多少以及时延多高等故障程度主要依据历史测试经验，并参考现网运营过程中的故障数据以及系统在故障后的资源消耗等情况进行综合设计，比如丢包率5%~8%等。如：</p><ul><li>L0：客户端与cell网络出现8%丢包率，持续xx min后恢复</li><li>L0：存储副本单节点&#x2F;多节点与管控节点网络出现100ms时延，持续xx min后恢复</li></ul><h3 id="系统流程分析"><a href="#系统流程分析" class="headerlink" title="系统流程分析"></a>系统流程分析</h3><p>系统流程分析是故障注入测试中很重要的一环，其主要目的是决定在什么阶段注入什么样的故障，以及故障持续时间和频次。不同阶段注入故障以及故障的方式（如持续故障还是间歇性故障）才能够多方位检测出系统的BUG，实际产品测试经验表明故障注入的精细度越高，拦截产品质量问题越有效。系统流程分析与故障场景叠加示意图如下：<br><img src="/2022/10/17/%E4%BA%91IaaS%E6%B5%8B%E8%AF%95%E7%B3%BB%E5%88%97%E4%B8%80%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8%E6%B5%8B%E8%AF%95%E5%AE%9E%E8%B7%B52-%E5%8F%AF%E9%9D%A0%E6%80%A7%E9%AB%98%E5%8F%AF%E7%94%A8%E6%B5%8B%E8%AF%95/10/17/%E4%BA%91IaaS%E6%B5%8B%E8%AF%95%E7%B3%BB%E5%88%97%E4%B8%80%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8%E6%B5%8B%E8%AF%95%E5%AE%9E%E8%B7%B52-%E5%8F%AF%E9%9D%A0%E6%80%A7%E9%AB%98%E5%8F%AF%E7%94%A8%E6%B5%8B%E8%AF%95/img_4.png"><br>如上图所示：流程1共有5个子流程：A-B-C-D</p><p>每个子流程中分别考虑：可能发生的异常，异常后会产生什么问题，需要异常多久？</p><p>然后使用等价类划分法，合并场景并去除无效的场景，作为该流程下的异常场景集，过于复杂的子流程会进行二次拆分。</p><p>同样以CBS产品为例：<br><img src="/2022/10/17/%E4%BA%91IaaS%E6%B5%8B%E8%AF%95%E7%B3%BB%E5%88%97%E4%B8%80%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8%E6%B5%8B%E8%AF%95%E5%AE%9E%E8%B7%B52-%E5%8F%AF%E9%9D%A0%E6%80%A7%E9%AB%98%E5%8F%AF%E7%94%A8%E6%B5%8B%E8%AF%95/10/17/%E4%BA%91IaaS%E6%B5%8B%E8%AF%95%E7%B3%BB%E5%88%97%E4%B8%80%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8%E6%B5%8B%E8%AF%95%E5%AE%9E%E8%B7%B52-%E5%8F%AF%E9%9D%A0%E6%80%A7%E9%AB%98%E5%8F%AF%E7%94%A8%E6%B5%8B%E8%AF%95/img_5.png"></p><p>这是常见的CBS的一些基本流程及操作，需要对每个流程进行分析，在系统流程里如何处理，涉及哪些组件以及哪些资源，此处不一一赘述，仅以io简要流程为例来讲：<br><img src="/2022/10/17/%E4%BA%91IaaS%E6%B5%8B%E8%AF%95%E7%B3%BB%E5%88%97%E4%B8%80%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8%E6%B5%8B%E8%AF%95%E5%AE%9E%E8%B7%B52-%E5%8F%AF%E9%9D%A0%E6%80%A7%E9%AB%98%E5%8F%AF%E7%94%A8%E6%B5%8B%E8%AF%95/10/17/%E4%BA%91IaaS%E6%B5%8B%E8%AF%95%E7%B3%BB%E5%88%97%E4%B8%80%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8%E6%B5%8B%E8%AF%95%E5%AE%9E%E8%B7%B52-%E5%8F%AF%E9%9D%A0%E6%80%A7%E9%AB%98%E5%8F%AF%E7%94%A8%E6%B5%8B%E8%AF%95/img_6.png"></p><p>IO从客户端发送到存储集群，存储侧使用io消息队列来控制流量，当io处理完成返回客户端后，流程结束并释放对应队列中的节点，客户端接收请求超时后会重试，存储端发送超时后也会重试。所以在故障场景设计时，需要考虑资源大小、申请释放机制、资源不足的影响以及超时处理流程等；以一个网络故障导致资源不足的BUG例子为例：<br>当存储端处理完成后向客户端返回rsp时，因网络单向异常（存储–&gt;客户端）导致客户端没有收到包，客户端反复重试导致存储侧消息队列资源不足又无法释放，导致存储上其他客户端的io hang。经过分析（分析过程不赘述），该故障场景用例如下：<br><img src="/2022/10/17/%E4%BA%91IaaS%E6%B5%8B%E8%AF%95%E7%B3%BB%E5%88%97%E4%B8%80%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8%E6%B5%8B%E8%AF%95%E5%AE%9E%E8%B7%B52-%E5%8F%AF%E9%9D%A0%E6%80%A7%E9%AB%98%E5%8F%AF%E7%94%A8%E6%B5%8B%E8%AF%95/10/17/%E4%BA%91IaaS%E6%B5%8B%E8%AF%95%E7%B3%BB%E5%88%97%E4%B8%80%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8%E6%B5%8B%E8%AF%95%E5%AE%9E%E8%B7%B52-%E5%8F%AF%E9%9D%A0%E6%80%A7%E9%AB%98%E5%8F%AF%E7%94%A8%E6%B5%8B%E8%AF%95/img_7.png"></p><p>不同的故障和系统流程组合直接影响了故障注入及恢复后的系统表现是什么样的，系统表现完全与业务处理流程强相关，需要深入了解系统的处理流程才能精细化指定故障观察点，比如：副本与客户端之间的网络异常和副本与管控节点之间的网络异常对系统的影响是不一样的，前者对io影响比较大，后者对io影响比较小。</p><p>故障注入测试需要与系统流程分析结合来做，整个系统分析流程投入会比较大，对测试和研发同学的要求比较高，成本也比较高。因此，在前期的故障测试时，更多的采取一些粗粒度的随机故障测试，主要通过时间和次数来发现概率问题，成本相对较低，但是收益也比预期较小。灰白盒故障测试适合有一定故障注入测试经验的团队，因前期使用粗粒度的随机故障注入测试已经发现了很多高概率或者必现的问题，对于低概率问题，需要使用灰白盒分析方法来精细化故障注入测试。</p><h3 id="随机故障测试"><a href="#随机故障测试" class="headerlink" title="随机故障测试"></a>随机故障测试</h3><p>如前文所讲，随机故障测试相比灰白盒故障测试，粒度较粗，开展成本较低。主要包含两个方面的随机：</p><ol><li><p>故障类型的随机</p></li><li><p>故障注入频次&#x2F;阶段&#x2F;时长的随机</p></li><li><p>简单来讲，就是不知道什么时候注入故障，那就使用随机的方式长时间频繁跑故障测试，以此来发现系统问题。随机故障测试对于系统的表现预期相对于灰白盒故障测试来说，观察点也相对较粗，主要是类似io抖动、进程crash等观察点。随机观察注入测试对业务监控系统依赖度比较高，适合通过自动化的方式来开展。</p></li></ol><h2 id="业务场景构造测试"><a href="#业务场景构造测试" class="headerlink" title="业务场景构造测试"></a>业务场景构造测试</h2><p>业务场景类测试主要是指系统接收到一些对于系统有风险的场景后能否保证其可用性和稳定性。比如CBS作为存储对外提供存储服务，会接收来自客户端各种各样的数据流量，这里的测试主要指业务场景出现异常的情况，如场景的突发流量、长期持续高负载流量（也就是压力测试）以及一些特殊的异常流量报文等。一般包括以下几种类型：</p><ol><li>压力测试：通过构造业务模型和配置，对系统进行持续大压力、高并发测试，观察系统的表现。</li><li>长稳测试：在一定业务压力模型下（高于正常压力或者完全高于系统负载）持续长时间运行的测试方法，也可以结合一些基本的故障注入来开展。</li><li>异常业务场景：如异常操作、异常配置、异常流量报文等</li></ol><h1 id="CFT及混沌测试"><a href="#CFT及混沌测试" class="headerlink" title="CFT及混沌测试"></a>CFT及混沌测试</h1><p>前面讲了基于灰白盒和黑盒的故障注入测试，但是分布式系统的复杂性通过上述测试还是远远不够的，不同的数据量、不同的压力，甚至不均衡的压力在系统内部可能都是对应不同的分支，不同的集群节点也会对应不同的处理逻辑，我们无法群居罗列所有的组合，覆盖所有的分支，因此需要引入一些探索性测试。</p><p>CFT（Cross Feature Test）测试是一种基于灰盒的多特性交叉随机的测试，是我们目前正在尝试的一种探索性测试，它的基本逻辑如下图所示：<br><img src="/2022/10/17/%E4%BA%91IaaS%E6%B5%8B%E8%AF%95%E7%B3%BB%E5%88%97%E4%B8%80%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8%E6%B5%8B%E8%AF%95%E5%AE%9E%E8%B7%B52-%E5%8F%AF%E9%9D%A0%E6%80%A7%E9%AB%98%E5%8F%AF%E7%94%A8%E6%B5%8B%E8%AF%95/10/17/%E4%BA%91IaaS%E6%B5%8B%E8%AF%95%E7%B3%BB%E5%88%97%E4%B8%80%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8%E6%B5%8B%E8%AF%95%E5%AE%9E%E8%B7%B52-%E5%8F%AF%E9%9D%A0%E6%80%A7%E9%AB%98%E5%8F%AF%E7%94%A8%E6%B5%8B%E8%AF%95/img_8.png"></p><p>测试单元最小粒度的测试行为，可以是单个测试用例，也可以是单个测试步骤，比如正常的盘操作用例&#x2F;运维变更步骤或者故障步骤，通过自动化调度引擎将多个测试单元按照顺序&#x2F;随机&#x2F;循环以及按照权重等方式组合成测试套进行并发随机运行，你无法知道在某个时刻具体是哪个操作&#x2F;或者哪个故障在运行，这种测试在一定程度上按照未知的时序进行并发随机运行，极大的模拟了一种探索性测试，该类测试必须通过自动化的手段进行测试，无法人工执行；CFT测试需要依赖很强的系统监控能力，这样在测试执行时，一旦出现问题，监控系统能第一时间知晓。</p><p>混沌测试是另外一种工程实践方法，它是一种实验手段，混沌测试的第一步是定义系统的稳态（如iops、时延等指标），然后通过多样化的测试手段（如压力、故障注入等）对系统进行实验，最后对比实验结果，如果系统一直处于稳态，那么认为系统对于该故障是具有容错能力的，否则，就找到了一个系统的bug，去修复它来提高系统的可靠性。</p><p>混沌测试开展的前提是需要软件系统有一定的故障容错能力，它对系统架构的韧性有很高的要求，如果软件系统架构存在单点设计的情况，那么不适合开展混沌测试，一旦出现单点故障，整个系统也就奔溃了，没法验证混沌测试的效果。如果系统当前还没有容错能力，那么应该首先使用故障注入测试方法暴露出更多的系统容错能力，最后再去考虑使用混沌测试。混沌测试也是我们后续需要尝试和探索的一种测试方法。</p><h1 id="元数据高可用测试"><a href="#元数据高可用测试" class="headerlink" title="元数据高可用测试"></a>元数据高可用测试</h1><p>元数据在存储系统中的地位是非常重要的，它记录了数据在存储系统中的真实位置，因此对元数据的管理是至关重要的。腾讯云存储的元数据管理包括分布式拓扑结构、节点的HA数据以及存储数据的索引数据等，它是基于开源的分布式zookeeper集群进行管理的，Zookeeper分布式集群主要通过ZAB协议（Paxos算法的变种）来保证数据的分布式一致性。</p><p>分布式系统主要面临的一致性问题有以下几种：</p><ol><li>数据同步问题：分布式系统中，数据一般都是存在多个节点上，数据需要在节点间进行同步，但是由于现实的网络通道并不是绝对可靠的，经常出现丢包、延迟、错报等问题，导致节点间的数据不能同步，容易出现数据错乱或者不一致的情况。</li><li>节点故障问题：分布式系统中某个或者某些节点故障后无法恢复，如何保证部分节点故障后不会导致整个分布式系统的数据不可用。</li><li>节点宕机恢复：某个或某些节点在A时刻宕机，并在B时刻恢复，宕机期间或者宕机恢复后的数据一致性问题如何解决。</li><li>孤岛节点问题：网络链接异常，将分布式集群分成多个相互隔离的信息孤岛，如何保证孤岛场景下的数据一致性问题。</li></ol><p>因此为了保证元数据的高可用，需要结合系统流程对Zookeeper集群进行故障注入来测试，ZAB协议典型的读写流程如下图：<br><img src="/2022/10/17/%E4%BA%91IaaS%E6%B5%8B%E8%AF%95%E7%B3%BB%E5%88%97%E4%B8%80%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8%E6%B5%8B%E8%AF%95%E5%AE%9E%E8%B7%B52-%E5%8F%AF%E9%9D%A0%E6%80%A7%E9%AB%98%E5%8F%AF%E7%94%A8%E6%B5%8B%E8%AF%95/10/17/%E4%BA%91IaaS%E6%B5%8B%E8%AF%95%E7%B3%BB%E5%88%97%E4%B8%80%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8%E6%B5%8B%E8%AF%95%E5%AE%9E%E8%B7%B52-%E5%8F%AF%E9%9D%A0%E6%80%A7%E9%AB%98%E5%8F%AF%E7%94%A8%E6%B5%8B%E8%AF%95/img_9.png"></p><p>ZAB协议中ZK Leader给Follower发送同步复制请求后，只需要一半以上的follower进行了正确反馈（即返回ACK）后，Leader才会再次向所有follower发送事务提交，完成数据同步。因此在测试过程中，需要根据系统流程结合ZAB协议中的选主、事务提交等流程进行故障注入测试来验证元数据的高可用。</p><h1 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h1><p>可靠性和高可用测试是发现系统问题、保障产品质量的非常有效的手段，尤其在复杂度偏高的IaaS产品测试中更为有效。对于CBS测试来讲，我们在高可用和可靠性测试方面投入了很多精力，也发现了非常多的问题，其中不乏数据一致性问题，在实际产品测试过程中，70%的bug都是通过它发现的，但是现网仍然有很多低概率偶发问题。所以可靠性和高可用测试只是起点，永远没有终点。</p></div><div class="article-footer"><blockquote class="mt-2x"><ul class="post-copyright list-unstyled"><li class="post-copyright-link hidden-xs"><strong>本文链接：</strong> <a href="http://vwin.github.io/2022/10/17/%E4%BA%91IaaS%E6%B5%8B%E8%AF%95%E7%B3%BB%E5%88%97%E4%B8%80%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8%E6%B5%8B%E8%AF%95%E5%AE%9E%E8%B7%B52-%E5%8F%AF%E9%9D%A0%E6%80%A7%E9%AB%98%E5%8F%AF%E7%94%A8%E6%B5%8B%E8%AF%95/" title="云IaaS测试系列一分布式存储测试实践2-可靠性高可用测试" target="_blank" rel="external">http://vwin.github.io/2022/10/17/云IaaS测试系列一分布式存储测试实践2-可靠性高可用测试/</a></li><li class="post-copyright-license"><strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="http://creativecommons.org/licenses/by/4.0/deed.zh" target="_blank" rel="external">CC BY 4.0 CN协议</a> 许可协议。转载请注明出处！</li></ul></blockquote><div class="panel panel-default panel-badger"><div class="panel-body"><figure class="media"><div class="media-left"><a href="https://github.com/vwin" target="_blank" class="img-burn thumb-sm visible-lg"><img src="/images/avatar.jpg" class="img-rounded w-full" alt=""></a></div><div class="media-body"><h3 class="media-heading"><a href="https://github.com/vwin" target="_blank"><span class="text-dark">will</span><small class="ml-1x">Software Development Engineer in Test &amp; Devops Engineer</small></a></h3><div>测试开发架构师 &amp;&amp; 工程效能专家</div></div></figure></div></div></div></article><section id="comments"></section></div><nav class="bar bar-footer clearfix" data-stick-bottom><div class="bar-inner"><ul class="pager pull-left"><li class="prev"><a href="/2022/10/25/%E4%BA%91IaaS%E6%B5%8B%E8%AF%95%E7%B3%BB%E5%88%97%E4%B8%80%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8%E6%B5%8B%E8%AF%95%E5%AE%9E%E8%B7%B53-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/" title="云IaaS测试系列一分布式存储测试实践3-自动化测试"><i class="icon icon-angle-left" aria-hidden="true"></i><span>&nbsp;&nbsp;上一篇</span></a></li><li class="next"><a href="/2022/10/15/%E4%BA%91IaaS%E6%B5%8B%E8%AF%95%E7%B3%BB%E5%88%97%E4%B8%80%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8%E6%B5%8B%E8%AF%95%E5%AE%9E%E8%B7%B51/" title="云IaaS测试系列一分布式存储测试实践1"><span>下一篇&nbsp;&nbsp;</span><i class="icon icon-angle-right" aria-hidden="true"></i></a></li><li class="toggle-toc"><a class="toggle-btn" data-toggle="collapse" href="#collapseToc" aria-expanded="false" title="文章目录" role="button"><span>[&nbsp;</span><span>文章目录</span> <i class="text-collapsed icon icon-anchor"></i> <i class="text-in icon icon-close"></i> <span>]</span></a></li></ul><div class="bar-right"><div class="share-component" data-sites="weibo,qq,wechat,facebook,twitter" data-mobile-sites="weibo,qq,qzone"></div></div></div></nav></main><footer class="footer" itemscope itemtype="http://schema.org/WPFooter"><ul class="social-links"><li><a href="https://github.com/vwin" target="_blank" title="Github" data-toggle="tooltip" data-placement="top"><i class="icon icon-github"></i></a></li><li><a href="https://yuleweici.com/yuleweici/" target="_blank" title="Link" data-toggle="tooltip" data-placement="top"><i class="icon icon-link"></i></a></li><li><a href="mailto:crazyboyspecial@qq.com" target="_blank" title="Email" data-toggle="tooltip" data-placement="top"><i class="icon icon-email"></i></a></li><li><a href="/atom.xml" target="_blank" title="Rss" data-toggle="tooltip" data-placement="top"><i class="icon icon-rss"></i></a></li></ul><div class="copyright">&copy; 2022 V</div></footer><script src="//cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script><script>window.jQuery||document.write('<script src="js/jquery.min.js"><\/script>')</script><script src="/js/plugin.min.js"></script><script src="/js/application.js"></script><script>!function(T){T.INSIGHT_CONFIG={TRANSLATION:{POSTS:"文章",PAGES:"页面",CATEGORIES:"分类",TAGS:"标签",UNTITLED:"(未命名)"},ROOT_URL:"/",CONTENT_URL:"/content.json"}}(window)</script><script src="/js/insight.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="//cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.3.5/dist/jquery.fancybox.min.js"></script><script>$(document).ready((function(){$("article img").not("[hidden]").not(".panel-body img").each((function(){var a=$(this),t=a.attr("alt"),n=a.parent("a");if(n.length<1){var e=this.getAttribute("src"),r=e.lastIndexOf("?");-1!=r&&(e=e.substring(0,r)),n=a.wrap('<a href="'+e+'"></a>').parent("a")}n.attr("data-fancybox","images"),t&&n.attr("data-caption",t)})),$().fancybox({selector:'[data-fancybox="images"]',hash:!1,loop:!1})}))</script></body></html>